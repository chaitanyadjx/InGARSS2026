'use client';

import { useState } from 'react';

const importantDates = [
    { label: "CCS Submission Deadline", date: "01 Feb 2026", color: "var(--terracotta)" },
    { label: "Workshop/Tutorial Deadline", date: "01 May 2026", color: "var(--gold)" },
    { label: "Paper Submission for CCS", date: "30 May 2026", color: "var(--indigo)" },
    { label: "Notification of Acceptance", date: "15 Sept 2026", color: "var(--indigo)" },
    { label: "Final Program Confirmation", date: "15 Oct 2026", color: "black" }
];

const proposalRequirements = [
    { title: "Session Title", desc: "A clear, concise title for your proposed CCS, Workshop, or Tutorial." },
    { title: "Brief Abstract", desc: "A 200â€“300 word summary outlining the core objectives and scope." },
    { title: "Proposed Format", desc: "Specify if the format is Invited talks, panel, or paper/poster presentations." },
    { title: "List of Participants", desc: "Names of Proposed Speakers, Panellists, or Papers (if confirmed)." },
    { title: "Organizers Detail", desc: "Name(s), Affiliation(s), and Contact info of the Organizer(s)." },
    { title: "Target & Relevance", desc: "Description of Target Audience and relevance to InGARSS 2026 theme." },
    { title: "Expected Duration", desc: "Choose between 120 minutes or 180 minutes sessions." }
];

function RequirementCard({ title, desc, isSelected, onSelect }) {
    // Persistent terracotta shadow on mobile when clicked
    // Resets to black shadow on desktop (md:) to allow hover effects
    const selectionClasses = isSelected 
        ? "shadow-[8px_8px_0_#BC4749] -translate-x-1 -translate-y-1 md:shadow-[6px_6px_0_black] md:translate-x-0 md:translate-y-0" 
        : "shadow-[6px_6px_0_black]";

    return (
        <div 
            onClick={onSelect}
            className={`bg-white border-2 border-black p-4 flex flex-col transition-all duration-150 cursor-pointer
                md:hover:shadow-[8px_8px_0_#BC4749] md:hover:-translate-x-1 md:hover:-translate-y-1 
                ${selectionClasses}`}
        >
            <span className="block font-bold text-xs leading-tight mb-2 text-[var(--indigo)] uppercase tracking-tight border-b-2 border-[var(--gold)] w-fit pb-0.5">
                {title}
            </span>
            <span className="block text-[0.7rem] text-gray-600 leading-tight">
                {desc}
            </span>
        </div>
    );
}

export default function CCSProposalsPage() {
    const [selectedIndex, setSelectedIndex] = useState(null);

    const handleSelect = (index) => {
        setSelectedIndex(selectedIndex === index ? null : index);
    };

    return (
        <main className="min-h-screen bg-[var(--bone)]">
            {/* Page Header */}
            <header className="bg-[var(--indigo)] text-white px-5 md:px-[8%] pt-28 pb-16 md:py-24 border-b-[3px] border-black">
                <span className="font-mono text-[var(--gold)] font-bold text-xs sm:text-sm tracking-[0.2em] uppercase">CCS & Workshops</span>
                <h1 className="text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-[5.5rem] font-extrabold leading-[0.85] tracking-tight mt-6">
                    Call for <br />Proposals
                </h1>
            </header>

            <section className="px-4 sm:px-6 md:px-[8%] py-12 md:py-20 max-w-[1400px] mx-auto">
                
                {/* Intro Section */}
                <div className="bg-white border-[3px] border-black p-6 sm:p-10 shadow-[10px_10px_0_var(--terracotta)] mb-16">
                    <h2 className="text-2xl md:text-4xl font-extrabold text-[var(--indigo)] mb-6 leading-tight">
                        Shape the Dialogue at InGARSS 2026
                    </h2>
                    <p className="text-sm sm:text-base md:text-lg leading-relaxed max-w-4xl mb-6">
                        The Organizing Committee invites Community Contributed Session (CCS), Workshops, and Tutorials proposals. These sessions provide a platform for experts to discuss emerging topics, interdisciplinary challenges, or regional priorities in an interactive format.
                    </p>
                    
                    {/* What is CCS Box */}
                    <div className="bg-[var(--bone)] border-2 border-black p-5 sm:p-8 mt-8">
                        <span className="bg-black text-white font-mono text-xs px-3 py-1 font-bold mb-4 inline-block">DEFINITION</span>
                        <h3 className="text-xl font-bold text-[var(--indigo)] mb-3">What is a CCS?</h3>
                        <p className="text-xs sm:text-sm leading-relaxed text-gray-700">
                            A Community Contributed Session is a curated set of presentations, panels, or discussions organized by individuals or groups from the research community. These sessions complement main conference themes and highlight diverse perspectives.
                        </p>
                    </div>
                </div>

                {/* Section 01: Submission Requirements */}
                <div className="mb-16">
                    <div className="flex items-center gap-4 mb-8">
                        <span className="font-mono bg-[var(--gold)] border-2 border-black text-black px-3 py-1 font-bold text-sm">01</span>
                        <h2 className="text-xl md:text-3xl font-extrabold text-[var(--indigo)] uppercase">Proposal Requirements</h2>
                    </div>
                    
                    <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
                        {proposalRequirements.map((item, index) => (
                            <RequirementCard 
                                key={index}
                                {...item}
                                isSelected={selectedIndex === index}
                                onSelect={() => handleSelect(index)}
                            />
                        ))}
                    </div>
                </div>

                {/* Section 02: Important Dates */}
                <div className="mb-16">
                    <div className="flex items-center gap-4 mb-8">
                        <span className="font-mono bg-[var(--gold)] border-2 border-black text-black px-3 py-1 font-bold text-sm">02</span>
                        <h2 className="text-xl md:text-3xl font-extrabold text-[var(--indigo)] uppercase">Important Dates</h2>
                    </div>
                    
                    <div className="bg-white border-[3px] border-black shadow-[8px_8px_0_black] overflow-hidden">
                        <table className="w-full text-left">
                            <tbody>
                                {importantDates.map((row, i) => (
                                    <tr key={i} className="border-b-2 border-black last:border-0 hover:bg-[var(--bone)] transition-colors">
                                        <td className="p-4 w-12">
                                            <div className="w-3 h-3 border-2 border-black" style={{ backgroundColor: row.color }}></div>
                                        </td>
                                        <td className="p-4 font-mono font-bold text-xs sm:text-sm whitespace-nowrap">{row.date}</td>
                                        <td className="p-4 font-bold text-xs sm:text-sm text-[var(--indigo)]">{row.label}</td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </div>
                </div>

                {/* Submission Instructions */}
                <section className="relative p-6 sm:p-12 border-2 border-black outline outline-4 outline-black outline-offset-[-12px]"
                    style={{ background: `repeating-linear-gradient(-45deg, #fdfaf3, #fdfaf3 10px, #f9f7f2 10px, #f9f7f2 20px)` }}
                >
                    <div className="absolute -top-4 left-6 bg-[var(--terracotta)] text-white px-5 py-2 font-mono font-extrabold text-xs sm:text-sm shadow-[4px_4px_0_black]">
                        HOW TO SUBMIT
                    </div>
                    
                    <div className="mt-4">
                        <h2 className="text-2xl font-extrabold text-[var(--indigo)] mb-4">Submission Protocol</h2>
                        <p className="text-sm sm:text-base mb-6 leading-relaxed max-w-3xl">
                            Submit your proposal as a single PDF to the email address below. Ensure your subject line follows the mandatory format: 
                            <br /><br />
                            <code className="bg-black text-white px-3 py-1 font-mono text-xs">
                                [CCS/Workshop/Tutorial] - Your Name - Proposal Title
                            </code>
                        </p>
                        <a 
                            href="mailto:ingarss2026@gmail.com" 
                            className="inline-block bg-[var(--indigo)] text-white font-mono font-bold text-sm sm:text-base px-8 py-4 border-[3px] border-black shadow-[6px_6px_0_var(--gold)] hover:shadow-none hover:translate-x-1 hover:translate-y-1 transition-all"
                        >
                            ingarss2026@gmail.com
                        </a>
                    </div>
                </section>

            </section>
        </main>
    );
}